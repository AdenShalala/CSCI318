<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InventoryPro - Login</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body> class="login">
  <div class="container login">
    <header>
      <!-- I will replace "images/logo.png" with the actual path to our logo later -->
      <img src="images/logo.png" alt="WareHost Logo" class="logo">
      <h1>InventoryPro</h1>
      <p class="tagline">Smart Inventory Management</p>
    </header>

    <div class="content">
      <!-- Login Form -->
      <section id="login-form" class="form-section active">
        <div class="error-message" id="login-error"></div>
        <form onsubmit="handleLogin(event)">
          <div class="form-group">
            <label for="login-email">Email or Username</label>
            <input type="text" id="login-email" required placeholder="Enter your email">
          </div>
          <div class="form-group">
            <label for="login-password">Password</label>
            <input type="password" id="login-password" required placeholder="Enter your password">
          </div>
          <button type="submit">Sign In</button>
        </form>
        <div class="links">
          <a href="#" onclick="showForgotPassword(); return false;">Forgot password?</a>
          <span class="divider">|</span>
          <a href="#" onclick="showRegister(); return false;">Create account</a>
        </div>
      </section>

      <!-- Registration Form -->
      <section id="register-form" class="form-section">
        <div class="error-message" id="register-error"></div>
        <form onsubmit="handleRegister(event)">
          <div class="form-group">
            <label for="reg-name">Full Name</label>
            <input type="text" id="reg-name" required placeholder="John Doe">
          </div>
          <div class="form-group">
            <label for="reg-email">Email</label>
            <input type="email" id="reg-email" required placeholder="john@example.com">
          </div>
          <div class="form-group">
            <label for="reg-password">Password</label>
            <input type="password" id="reg-password" required placeholder="Min. 8 characters">
          </div>
          <div class="form-group">
            <label for="reg-confirm">Confirm Password</label>
            <input type="password" id="reg-confirm" required placeholder="Re-enter password">
          </div>
          <button type="submit">Create Account</button>
          <button type="button" class="secondary-btn" onclick="showLogin()">Back to Login</button>
        </form>
      </section>

      <!-- Forgot Password Form -->
      <section id="forgot-form" class="form-section">
        <div class="step-title">Reset Password</div>
        <div class="step-description">Enter your email and we'll send you a reset link</div>
        <form onsubmit="handleForgotPassword(event)">
          <div class="form-group">
            <label for="forgot-email">Email</label>
            <input type="email" id="forgot-email" required placeholder="john@example.com">
          </div>
          <button type="submit">Send Reset Link</button>
          <button type="button" class="secondary-btn" onclick="showLogin()">Back to Login</button>
        </form>
      </section>

      <!-- Onboarding Step 1: Business Info -->
      <section id="onboarding-step1" class="form-section">
        <div class="progress-bar">
          <div class="progress-step active">1</div>
          <div class="progress-step">2</div>
          <div class="progress-step">3</div>
        </div>
        <div class="step-title">Business Information</div>
        <div class="step-description">Tell us about your business</div>
        <form onsubmit="handleStep1(event)">
          <div class="form-group">
            <label for="business-name">Business Name</label>
            <input type="text" id="business-name" required placeholder="Acme Corp">
          </div>
          <div class="form-group">
            <label for="business-type">Business Type</label>
            <select id="business-type" required>
              <option value="">Select type</option>
              <option value="retail">Retail</option>
              <option value="wholesale">Wholesale</option>
              <option value="manufacturing">Manufacturing</option>
              <option value="ecommerce">E-commerce</option>
              <option value="restaurant">Restaurant/Food Service</option>
              <option value="other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label for="business-size">Number of Products</label>
            <select id="business-size" required>
              <option value="">Select range</option>
              <option value="1-50">1-50</option>
              <option value="51-200">51-200</option>
              <option value="201-1000">201-1,000</option>
              <option value="1000+">1,000+</option>
            </select>
          </div>
          <button type="submit">Continue</button>
        </form>
      </section>

      <!-- Onboarding Step 2: Inventory Setup -->
      <section id="onboarding-step2" class="form-section">
        <div class="progress-bar">
          <div class="progress-step completed">✓</div>
          <div class="progress-step active">2</div>
          <div class="progress-step">3</div>
        </div>
        <div class="step-title">Inventory Setup</div>
        <div class="step-description">How would you like to add your products?</div>
        <form onsubmit="handleStep2(event)">
          <div class="form-group">
            <label for="import-method">Import Method</label>
            <select id="import-method" required>
              <option value="">Choose method</option>
              <option value="manual">Add manually later</option>
              <option value="csv">Upload CSV file</option>
              <option value="excel">Upload Excel file</option>
              <option value="sample">Start with sample data</option>
            </select>
          </div>
          <div class="form-group">
            <label for="currency">Default Currency</label>
            <select id="currency" required>
              <option value="USD">USD ($)</option>
              <option value="EUR">EUR (€)</option>
              <option value="GBP">GBP (£)</option>
              <option value="AUD">AUD ($)</option>
              <option value="CAD">CAD ($)</option>
            </select>
          </div>
          <button type="submit">Continue</button>
          <button type="button" class="secondary-btn" onclick="showOnboardingStep(1)">Back</button>
        </form>
      </section>

      <!-- Onboarding Step 3: Preferences -->
      <section id="onboarding-step3" class="form-section">
        <div class="progress-bar">
          <div class="progress-step completed">✓</div>
          <div class="progress-step completed">✓</div>
          <div class="progress-step active">3</div>
        </div>
        <div class="step-title">Final Setup</div>
        <div class="step-description">Configure your preferences</div>
        <form onsubmit="handleStep3(event)">
          <div class="form-group">
            <label for="low-stock">Low Stock Alert Threshold</label>
            <input type="number" id="low-stock" value="10" min="0" required>
          </div>
          <div class="form-group">
            <label for="notifications">Email Notifications</label>
            <select id="notifications" required>
              <option value="all">All notifications</option>
              <option value="important">Important only</option>
              <option value="none">None</option>
            </select>
          </div>
          <button type="submit">Complete Setup</button>
          <button type="button" class="secondary-btn" onclick="showOnboardingStep(2)">Back</button>
        </form>
      </section>

      <!-- Success Screen -->
      <section id="success-screen" class="form-section">
        <div class="success-message">
          <div class="success-icon">✓</div>
          <div class="step-title">You're All Set!</div>
          <div class="step-description">Your account has been created successfully</div>
          <button onclick="goToDashboard()">Go to Dashboard</button>
        </div>
      </section>
    </div>
  </div>

  <script>
    const userData = {
      businessName: '',
      businessType: '',
      businessSize: '',
      importMethod: '',
      currency: 'USD',
      lowStock: 10,
      notifications: 'all'
    };

    function showSection(sectionId) {
      document.querySelectorAll('.form-section').forEach(section => {
        section.classList.remove('active');
      });
      document.getElementById(sectionId).classList.add('active');
    }

    function showLogin() {
      showSection('login-form');
    }

    function showRegister() {
      showSection('register-form');
    }

    function showForgotPassword() {
      showSection('forgot-form');
    }

    function showOnboardingStep(step) {
      showSection(`onboarding-step${step}`);
    }

    function handleLogin(e) {
      e.preventDefault();
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;

      // Simulate login validation
      if (email && password) {
        // Hey bakend gusy, could you please validate credentials with backend here?
        // For now, we assume login is successful
        goToDashboard();
      } else {
        showError('login-error', 'Invalid credentials');
      }
    }

    function handleRegister(e) {
      e.preventDefault();
      const password = document.getElementById('reg-password').value;
      const confirm = document.getElementById('reg-confirm').value;

      if (password !== confirm) {
        showError('register-error', 'Passwords do not match');
        return;
      }

      if (password.length < 8) {
        showError('register-error', 'Password must be at least 8 characters');
        return;
      }

      // Proceed to onboarding
      showOnboardingStep(1);
    }

    function handleForgotPassword(e) {
      e.preventDefault();
      alert('Password reset link sent to your email!');
      showLogin();
    }

    function handleStep1(e) {
      e.preventDefault();
      userData.businessName = document.getElementById('business-name').value;
      userData.businessType = document.getElementById('business-type').value;
      userData.businessSize = document.getElementById('business-size').value;
      showOnboardingStep(2);
    }

    function handleStep2(e) {
      e.preventDefault();
      userData.importMethod = document.getElementById('import-method').value;
      userData.currency = document.getElementById('currency').value;
      showOnboardingStep(3);
    }

    function handleStep3(e) {
      e.preventDefault();
      userData.lowStock = document.getElementById('low-stock').value;
      userData.notifications = document.getElementById('notifications').value;

      // Save user data
      console.log('User setup complete:', userData);
      showSection('success-screen');
    }

    function goToDashboard() {
      alert('Redirecting to dashboard...\n\n We will update this later, so that it would navigate to the main dashboard.');
      // window.location.href = 'dashboard.html';
    }

    function showError(elementId, message) {
      const errorEl = document.getElementById(elementId);
      errorEl.textContent = message;
      errorEl.classList.add('show');
      setTimeout(() => errorEl.classList.remove('show'), 3000);
    }
  </script>
</body>

</html>